<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>11.1 选择符API</title>
	</head>
	<body>
		<div id="myDiv"></div>
		<p class="selected"></p>
		<img class="button" />
		<script>
		//11.1.1 querySelector()方法
			//querySeclector()方法接受一个CSS选择符，返回与该模式匹配的第一个元素，如果没有找到匹配的元素，返回null
			
			//取得body元素
			var body=document.querySelector("body");
			
			//取得id为myDiv的元素
			var myDiv=document.querySelector('#myDiv');
			
			//取得类为selected的第一个元素
			var selected=document.querySelector(".selected");
			
			//取得类为"button"的第一个img
			var img=document.querySelector("img.button");
			
			//通过Document类型调用querySelector()方法时，会在文档元素的范围内查找匹配的元素。
			//而通过Element类型调用querySelector()方法时，只会在该元素的后代元素范围内查找匹配的元素
		
		//11.1.2 querySelectorAll()方法
			//querySelectorAll()方法接收的参数与querySelector()方法一样，都是一个CSS选择符，但返回的是所有匹配的元素而不仅仅是一个元素
			//这个方法返回的是一个NodeList
			
			//只要传给querySelectorAll()方法的CSS选择符有效，该方法就会返回一个NodeList对象，而不管找到多少匹配的元素。
			//如果没有找到匹配的元素，NodeList是空的
			
			//取得某div中的所有em元素
			var ems=document.getElementsByTagName("div")[0].querySelectorAll("em");
			
			//取得类为selected的所有元素
			var selecteds=document.querySelectorAll(".selected");
			
			//取得所有p元素中的所有<strong>元素
			var strongs=document.querySelectorAll("p strong");
		
		
		//11.1.3 matchesSelector()方法
			//matchesSelector()方法接受一个参数，即CSS选择符，如果调用元素与该选择符匹配，返回true;否则返回false
			//if(document.body.matchesSelector("body.page1")){
				//truee
			//}
			
			//在取得某个元素引用的情况下，使用这个方法能够方便地检测它是否被querySelector()或querySelectorAll()方法返回
			//还没有浏览器支持这个方法
			//IE9+:msMatchesSelector()支持该方法
			//Firefox 3.6+通过mozMatchesSelector()支持该方法
			//Safari和Chrome通过webkitMatchesSelector()支持该方法
			//因此如果想要使用该方法，最好是编写一个函数
			
			function matchesSelector(element,selector){
				if(element.matchesSeletor){
					return element.matchesSelector(selector);
				}else if(element.msMatchesSelector){
					return element.msMatchesSelector(selector);
				}else if(element.mozMatchesSelector){
					return element.mozMatchesSelector(selector);
				}else if(element.webkitMatchesSelector){
					return element.mozMatchesSelector(selector);
				}else{
					throw new Error("Not support");
				}
			}
		
		</script>
	</body>
</html>
